<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/materialize.min.css" media="screen,projection">
    <link rel="stylesheet" href="css/style.css" media="screen,projection">

    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#00897B">


    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>PWEB Movie</title>
  </head>
  <body>
    <nav class="black" role="navigation">
        <div class="nav-wrapper container">
          <a href="/praktikum9" class="brand-logo white-text">PWEB Movie</a>
          <ul class="topnav right hide-on-med-and-down">
            <li><a href="#playing" class="white-text">Now Playing</a></li>
            <li><a href="#upcoming" class="white-text">Up Coming</a></li>
            <li><a href="#popular" class="white-text">Popular</a></li>
            <li><a href="#toprated" class="white-text">Top Rated</a></li>
          </ul>

          <ul id="nav-mobile" class="sidenav">
            <li><a href="#playing">Now Playing</a></li>
            <li><a href="#upcoming">Up Coming</a></li>
            <li><a href="#popular">Popular</a></li>
            <li><a href="#toprated">Top Rated</a></li>
          </ul>
          <a href="#" data-target="nav-mobile" class="sidenav-trigger">
            <i class="material-icons white-text">menu</i></a>
        </div>
      </nav>

    <div id="index-banner" class="parallax-container">
      <div class="section no-pad-bot">
        <div class="container">
          <h1 class="header center white-text">What is Your Movie</h1>
        </div>
      </div>

      <div class="parallax">
        <img src="img/bioskop1440.jpg"
             srcset="img/bioskop480.jpg 480w,
                     img/bioskop720.jpg 720w,
                     img/bioskop1080.jpg 1080w"
             size="100vw"
             alt="bioskop"
             style="transform: translate3d(-50%, 0px, 0px);opacity: 1;" >
        </div>
       </div>

      <div class="container">
        <h4 id="section_title">Now Playing</h4>

        <div class="row">
          <div id="movie_list">
          </div>
        </div>
      </div>

      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="js/materialize.min.js"></script>
      <script type="text/javascript" src="js/init.js"></script>
      <script type="text/javascript" src="js/api.js"></script>
      <script type="text/javascript" src="js/tmdb.js"></script>

      <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
          var page = window.location.hash.substr(1);

          document.querySelectorAll(".topnav a, .sidenav a")
          .forEach (function(element) {

            element.addEventListener("click", function(event) {
              page = event.target.getAttribute("href").substr(1);
              switch (page) {
                case "playing":
                        getListMovie("/movie/now_playing", "Now Playing");
                        break;
                case "upcoming":
                        getListMovie("/movie/upcoming", "Up Coming");
                        break;
                case "popular":
                        getListMovie("/movie/popular", "Popular");
                        break;
                case "toprated":
                        getListMovie("/movie/top_rated", "Top Rated");
                        break;
              }
            });
          });

          getListMovie("/movie/now_playing", "Now Playing");

          // getListMovie("/movie/upcoming", "Up Coming");
          // getListMovie("/movie/popular", "Popular");
          // getListMovie("/movie/top_rated", "Top Rated");
        });
          </script>

          <script type="text/javascript">
            // REGISTER SERVICE WORKER
            if ("serviceWorker" in navigator) {
              window.addEventListener("load", function() {
                navigator.serviceWorker
                   .register("js/sw.js")
                   .then (function () {
                     console.log("Pendaftaran ServiceWorker berhasil");
                   })
                   .catch(function () {
                     console.log("Pendaftaran ServiceWorker gagal");
                   });
              });

            } else {
              console.log("ServiceWorker belum didukung browser ini.");
            }
          </script>

  </body>
</html>
